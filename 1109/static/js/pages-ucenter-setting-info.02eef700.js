(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-setting-info"],{"0694":function(e,t,a){"use strict";a.r(t);var i=a("557d"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},"48d7":function(e,t,a){"use strict";var i={uniIcons:a("4bd1").default,simpleCell:a("5537").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"user_info"},[a("v-uni-view",{staticClass:"headimgbox s-center"},[a("v-uni-view",{staticClass:"userheadimg "},[a("v-uni-image",{staticClass:"userheadimg-image",attrs:{src:e.userinfo.avatar_path,placeholder:"/static/logo.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseHeadimg.apply(void 0,arguments)}}})],1),e.hasLogin?a("v-uni-view",{staticClass:"s-margin-top-xs"},[a("v-uni-text",{staticClass:"s-text s-black9"},[e._v(e._s(e.i18n.k_dian_ji_xiu_gai_tou_xiang))])],1):e._e()],1),a("v-uni-view",{staticClass:"flex s-nowrap info-cell s-flex-vcenter s-space-between"},[a("v-uni-text",{staticClass:"s-text s-black3 label-text"},[e._v(e._s(e.i18n.k_ni_cheng))]),a("v-uni-input",{staticClass:"input-box",attrs:{type:"text",placeholder:e.i18n.k_qing_shu_ru_nin_de_ni_cheng},model:{value:e.userinfo.nickname,callback:function(t){e.$set(e.userinfo,"nickname",t)},expression:"userinfo.nickname"}})],1),a("v-uni-view",{staticClass:"flex s-nowrap info-cell s-flex-vcenter s-space-between"},[a("v-uni-text",{staticClass:"s-text s-black3 label-text"},[e._v(e._s(e.i18n.k_shou_ji_hao))]),a("v-uni-input",{staticClass:"input-box",attrs:{type:"text",placeholder:e.i18n.k_qing_shu_ru_shou_ji_hao},model:{value:e.userinfo.mobile,callback:function(t){e.$set(e.userinfo,"mobile",t)},expression:"userinfo.mobile"}})],1),a("v-uni-view",{staticClass:"flex s-nowrap info-cell s-flex-vcenter s-space-between",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sexChange.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"s-text s-black3 label-text"},[e._v(e._s(e.i18n.k_xing_bie))]),a("v-uni-view",{staticClass:"flex s-flex-vbottom"},[a("v-uni-view",{staticClass:"flex s-nowrap flex1  s-flex-vcenter"},[a("v-uni-text",{staticClass:"s-text s-black3"},[e._v(e._s(1==e.userinfo.sex?e.i18n.k_nan:e.i18n.k_nv))]),a("uni-icons",{attrs:{type:"arrowright",color:"#666",size:"18"}})],1)],1)],1),a("v-uni-view",{staticClass:"flex s-nowrap info-cell s-flex-vcenter s-space-between",staticStyle:{display:"none"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addresChange.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"s-text s-black3 label-text"},[e._v(e._s(e.i18n.k_di_zhi))]),a("v-uni-view",{staticClass:"flex s-flex-vbottom"},[a("v-uni-view",{staticClass:"flex s-nowrap flex1  s-flex-vcenter"},[a("v-uni-picker",{staticClass:"adddress-input",attrs:{mode:"multiSelector",range:e.addressArray,"range-key":"name",value:e.addressIndex},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.addressChange.apply(void 0,arguments)},columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.addressColumnChange.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"address-picker s-black6"},[e._v(e._s(e.userinfo.address||e.i18n.k_sheng_shi_qu_xian))])],1),a("uni-icons",{attrs:{type:"arrowright",color:"#666",size:"18"}})],1)],1)],1),a("v-uni-view",{staticClass:"flex s-nowrap info-cell s-flex-vcenter s-space-between"},[a("v-uni-text",{staticClass:"s-text s-black3 label-text"},[e._v(e._s(e.i18n.k_xiang_xi_di_zhi))]),a("v-uni-input",{staticClass:"input-box",attrs:{type:"text",placeholder:e.i18n.k_qing_shu_ru_xiang_xi_di_zhi},model:{value:e.userinfo.address_detail,callback:function(t){e.$set(e.userinfo,"address_detail",t)},expression:"userinfo.address_detail"}})],1),a("simple-cell",{staticClass:"s-margin-top",on:{cellClick:function(t){arguments[0]=t=e.$handleEvent(t),e.loginOut.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"s-center s-black s-h6",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.i18n.k_bao_cun_xin_xi))])],1)],1)},s=[];a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i}))},5537:function(e,t,a){"use strict";a.r(t);var i=a("ff77"),n=a("a960");for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("d3aa");var r,o=a("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"0d9094ce",null,!1,i["a"],r);t["default"]=l.exports},"557d":function(e,t,a){"use strict";(function(e){var i=a("ee27");a("a15b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("fc11")),s=i(a("f3f3"));a("96cf");var r,o=i(a("c964")),l=i(a("79b3")),c=i(a("5786")),d=(r={data:function(){return{headimg:"",userinfo:{avatar_path:"",avatar:"",nickname:"",mobile:"",sex:"",address_detail:"",address:"",address_province:"",address_city:"",address_area:""},sexes:[i18n.k_nan,i18n.k_nv],addressArray:[],addressIndex:[0,0,0]}},onLoad:function(){this.addressArray[0]=l.default,this.addressArray[1]=l.default[0].child,this.addressArray[2]=l.default[0].child[0].child,this.get_userinfo()},onShow:function(){},computed:{i18n:function(){return this.$t("index")}}},(0,n.default)(r,"computed",{i18n:function(){return this.$t("index")}}),(0,n.default)(r,"methods",{addressChange:function(e){var t=e.detail.value,a=this.addressArray;this.addressIndex=t,this.userinfo.address=a[0][t[0]].name+a[1][t[1]].name+a[2][t[2]].name,this.userinfo.address_province=a[0][t[0]].id,this.userinfo.address_city=a[1][t[1]].id,this.userinfo.address_county=a[2][t[2]].id},addressColumnChange:function(e){var t=e.detail;if(0==t.column)this.addressArray[1]=l.default[t.value].child,this.addressArray[2]=l.default[t.value].child[0].child,this.addressIndex=[t.value,0,0];else if(1==t.column){var a=this.addressIndex[0];this.addressArray[2]=l.default[a].child[t.value].child,this.addressIndex=[this.addressIndex[0],t.value,0]}this.$forceUpdate()},get_userinfo:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,i,n,s,r,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,getApp().post("user/user",{token:getApp().token});case 2:a=t.sent,200==a.code&&(e.headimg=a.data.avatar_path,i=e.addressArray,i[0]=a.data.address_province,i[1]=a.data.address_city,i[2]=a.data.address_area,n=e.addressIndex,n=a.data.label,e.addressIndex=n,s=i[0][n[0]].name+i[1][n[1]].name+i[2][n[2]].name,r=i[0][n[0]].id,o=i[1][n[1]].id,l=i[2][n[2]].i,e.userinfo={avatar_path:a.data.avatar_path,avatar:a.data.avatar,nickname:a.data.nickname,mobile:a.data.mobile,sex:a.data.sex,address_detail:a.data.address_detail,address:s,address_province:r,address_city:o,address_area:l});case 4:case"end":return t.stop()}}),t)})))()},sexChange:function(){var e=this;uni.showActionSheet({itemList:this.sexes,success:function(t){e.userinfo.sex=t.tapIndex+1}})},navigateTo:function(e,t){if(t&&!this.hasLogin)return uni.navigateTo({url:"./ucenter/signIn"}),!1;uni.navigateTo({url:e})},chooseHeadimg:function(){var t=this;uni.chooseImage({count:1,success:function(a){var i=a.tempFilePaths[0];e.log(i),t.uploadToAlioss(i)}})},uploadToAlioss:function(t){var a=this;return(0,o.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:c.default.upload(t,!0).then((function(t){a.userinfo.avatar=t.key,a.userinfo.avatar_path=t.file_path,e.log(t)})).catch((function(t){e.log(t),uni.showToast({title:i18n.k_shang_chuan_shi_bai,icon:"none"})}));case 1:case"end":return i.stop()}}),i)})))()},loginOut:function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.userinfo,t.label=this.addressIndex.join(","),e.next=4,getApp().post("user/saveAllUser",(0,s.default)({token:getApp().token},t));case 4:a=e.sent,uni.showToast({title:a.msg||i18n.k_xiu_gai_shi_bai,icon:"none"}),200==a.code&&getApp().save({avatar:t.avatar,avatar_path:t.avatar_path,mobile:t.mobile,nickname:t.nickname,sex:t.sex});case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),r);t.default=d}).call(this,a("5a52")["default"])},5786:function(e,t,a){"use strict";var i=a("ee27");a("d3b7"),a("ac1f"),a("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("e53c")),s=i(a("595c")),r={config:function(){return new Promise((function(e,t){n.default.post("common/oosParams",{token:getApp().token}).then((function(a){200==a.code?e(a.data):t(err)})).catch((function(e){t(e)}))}))},upload:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.default.config("UP_OSSURL");return new Promise((function(i,n){var o=e.split(".");o=o[o.length-1];r.config().then((function(r){r.key;t&&uni.showLoading({title:"上传中...",mask:!1}),uni.uploadFile({url:a,filePath:e,fileType:"image/video/audio",name:"file",formData:{key:r.key+o,OSSAccessKeyId:r.id,success_action_status:200,policy:r.policy,signature:r.signature,name:(0,s.default)(e)},header:{timestamp:(new Date).getTime()},success:function(t){200==t.statusCode?i({key:r.key+o,absolute_url:e,file_path:a+r.key+o}):n(t)},fail:function(e){n(e)},complete:function(){t&&uni.hideLoading()}})})).catch((function(e){n(e)}))}))}},o=r;t.default=o},"8af0":function(e,t,a){"use strict";a.r(t);var i=a("48d7"),n=a("0694");for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);a("a923");var r,o=a("f0c5"),l=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"6b492268",null,!1,i["a"],r);t["default"]=l.exports},9189:function(e,t,a){var i=a("aa46");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("40894b8d",i,!0,{sourceMap:!1,shadowMode:!1})},a923:function(e,t,a){"use strict";var i=a("9189"),n=a.n(i);n.a},a960:function(e,t,a){"use strict";a.r(t);var i=a("f2e7"),n=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a},aa46:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".user_info[data-v-6b492268]{-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background-color:#f2f2f2}.headimgbox[data-v-6b492268]{margin-top:%?60?%;width:%?750?%;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?60?%}.userheadimg[data-v-6b492268]{width:%?750?%;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.userheadimg-image[data-v-6b492268]{width:80px;height:80px;border-radius:50%}.info-cell[data-v-6b492268]{height:%?100?%;padding-left:%?24?%;padding-right:%?24?%;background-color:#fff;border-bottom-color:#eee;border-bottom-width:%?1?%}.label-text[data-v-6b492268]{font-size:%?30?%;color:#666;width:%?188?%;margin-right:%?10?%}.input-box[data-v-6b492268]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:right;font-size:%?30?%;color:#333}",""]),e.exports=t},b863:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".bui-cell[data-v-0d9094ce]{height:%?100?%;position:relative;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-left:%?24?%;padding-right:%?24?%;background-color:#fff}.cell-margin[data-v-0d9094ce]{margin-bottom:%?24?%}.cell-title[data-v-0d9094ce]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.has-desc[data-v-0d9094ce]{padding-bottom:%?18?%;padding-top:%?18?%}.cell-top-border[data-v-0d9094ce]{border-top-color:#eee;border-top-width:%?1?%}.cell-bottom-border[data-v-0d9094ce]{border-bottom-color:#eee;border-bottom-width:%?1?%}.cell-label-text[data-v-0d9094ce]{font-size:%?30?%;color:#666;width:%?188?%;margin-right:%?10?%}.cell-content[data-v-0d9094ce]{color:#333;font-size:%?30?%;line-height:%?40?%}.cell-desc-text[data-v-0d9094ce]{color:#999;font-size:%?24?%;line-height:%?30?%;margin-top:%?4?%}",""]),e.exports=t},c02f:function(e,t,a){var i=a("b863");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("76458dbe",i,!0,{sourceMap:!1,shadowMode:!1})},d3aa:function(e,t,a){"use strict";var i=a("c02f"),n=a.n(i);n.a},f2e7:function(e,t,a){"use strict";var i=a("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=i(a("fc11")),r=(n={props:{label:{type:String,default:""},title:{type:String,default:""},desc:{type:String,default:""},hasTopBorder:{type:Boolean,default:!1},hasMargin:{type:Boolean,default:!1},hasBottomBorder:{type:Boolean,default:!0},cellStyle:{type:Object,default:function(){return{}}}},computed:{i18n:function(){return this.$t("index")}}},(0,s.default)(n,"computed",{i18n:function(){return this.$t("index")}}),(0,s.default)(n,"methods",{_cellClick:function(e){this.$emit("click",{e:e}),this.$emit("cellClick",{e:e})}}),n);t.default=r},ff77:function(e,t,a){"use strict";var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{class:["bui-cell",e.hasTopBorder?"cell-top-border":"",e.hasBottomBorder?"cell-bottom-border":"",e.hasMargin?"cell-margin":"",e.desc?"has-desc":""],style:Object.assign({},e.cellStyle),on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._cellClick.apply(void 0,arguments)}}},[e._t("label",[e.label?a("v-uni-view",[a("v-uni-text",{staticClass:"cell-label-text"},[e._v(e._s(e.label))])],1):e._e()]),a("v-uni-view",{staticClass:"cell-title"},[e._t("title",[e.title?a("v-uni-text",{staticClass:"cell-content"},[e._v(e._s(e.title))]):e._e(),e.desc?a("v-uni-text",{staticClass:"cell-desc-text"},[e._v(e._s(e.desc))]):e._e()])],2),e._t("action"),e._t("default")],2)},s=[];a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i}))}}]);